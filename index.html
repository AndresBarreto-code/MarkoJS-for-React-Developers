<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>reveal.js</title>

    <link rel="stylesheet" href="dist/reset.css" />
    <link rel="stylesheet" href="dist/reveal.css" />
    <link rel="stylesheet" href="dist/theme/black.css" />

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css" />
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <!-- Slide 1 -->
        <section data-auto-animate>
          <h1 class="text-base">Marko for React Developers</h1>
          <div class="flex justify-center gap-16">
            <img
              src="https://raw.githubusercontent.com/marko-js/branding/master/marko-logo-small.png"
              alt="Marko logo"
              class="h-[200px]"
            />
            <img
              src="https://static-00.iconduck.com/assets.00/react-original-wordmark-icon-840x1024-vhmauxp6.png"
              alt="Marko logo"
              class="h-[200px]"
            />
          </div>
        </section>
        <!-- Slide 2 -->
        <section data-auto-animate>
          <section data-auto-animate>
            <h2>What is Marko?</h2>
            <ul>
              <li>UI library?</li>
            </ul>
          </section>
          <section data-auto-animate>
            <h2>What is Marko?</h2>
            <ul>
              <li>UI library?</li>
              <li>HTML-based language?</li>
            </ul>
          </section>
          <section data-auto-animate>
            <h2>What is Marko?</h2>
            <ul>
              <li>UI library?</li>
              <li>HTML-based language?</li>
              <li>Framework?</li>
            </ul>
          </section>
          <section data-auto-animate>
            <h2>What is Marko?</h2>
            <ul>
              <li>UI library?</li>
              <li>HTML-based language?</li>
              <li>Framework?</li>
              <li>Template engine?</li>
            </ul>
          </section>
          <section data-auto-animate>
            <h2>What is Marko?</h2>
            <ul>
              <li>UI library?</li>
              <li>HTML-based language?</li>
              <li>Framework?</li>
              <li>Template engine?</li>
              <li>Server-side rendering?</li>
            </ul>
          </section>
          <section data-auto-animate>
            <h2>What is Marko?</h2>
            <ul>
              <li>UI library?</li>
              <li>HTML-based language?</li>
              <li>Framework?</li>
              <li>Template engine?</li>
              <li>Server-side rendering?</li>
              <li>Client-side rendering?</li>
            </ul>
          </section>
          <section data-auto-animate>
            <h2>What is Marko?</h2>
            <ul>
              <li>UI library?</li>
              <li>HTML-based language?</li>
              <li>Framework?</li>
              <li>Template engine?</li>
              <li>Server-side rendering?</li>
              <li>Client-side rendering?</li>
              <li>Tacos?</li>
            </ul>
          </section>
          <section data-auto-animate>
            <h2>What is Marko?</h2>
            <ul>
              <li>UI library?</li>
              <li>HTML-based language?</li>
              <li>Framework?</li>
              <li>Template engine?</li>
              <li>Server-side rendering?</li>
              <li>Client-side rendering?</li>
              <li>Tacos?</li>
              <li>Yes, please.</li>
            </ul>
          </section>
        </section>
        <!-- Slide 2 -->
        <section data-auto-animate>
          <section data-auto-animate>
            <h2>Angus' previous presentations</h2>
            <ul>
              <li>
                <a
                  href="https://docs.google.com/presentation/d/1nZyYYIn2yXpdTbfxMujzRY7C8y3riEEsFh0W_890qy4/edit#slide=id.g20a58c108b4_0_10"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  Frontend Frameworks
                </a>
              </li>
              <li>
                <a
                  href="https://docs.google.com/presentation/d/1nZyYYIn2yXpdTbfxMujzRY7C8y3riEEsFh0W_890qy4/edit#slide=id.g20a58c108b4_0_10"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  Performant Frontend Frameworks
                </a>
              </li>
            </ul>
          </section>
        </section>
        <!-- Slide 3 -->
        <section data-auto-animate>
          <img src="dist/images/marko.png" />
        </section>
        <!-- Slide 4 -->
        <section data-auto-animate>
          <section data-auto-animate>
            <h2>JavaScript Expressions</h2>
          </section>
          <section data-auto-animate>
            <h2>JSX</h2>
            <pre><code data-trim>
							export default function App() {
							  const name = "Front End friends";
							  return <div>Hello {name}</div>;
							}
						</code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code data-trim>
							$ const name = "Front End friends";
							<p>Hello ${name}</p>
							</code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code data-trim>
							<p>1 + 1 ${1 + 1}</p>
							</code></pre>
          </section>
        </section>
        <!-- Slide 5 -->
        <section data-auto-animate>
          <section data-auto-animate>
            <h2>Control flow</h2>
          </section>
          <section data-auto-animate>
            <h2>JSX</h2>
            <pre><code data-trim>
							export default function App() {
								const places = ["Rome", "Rio", "Melbourne", "Bogota"];
								return (
									<ul>
										{places.map((place) => (
											<li>{place}</li>
										))}
									</ul>
								);
							}
						</code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code><script type="text/template">
	$ const places = ["Rome", "Rio", "Melbourne", "Bogota"];
	<ul>
	  <for|place| of=places>
	    <li>${place}</li>
	  </for>
	</ul>
						</script></code></pre>
          </section>
        </section>

        <!-- Slide 6 -->
        <section data-auto-animate>
          <section data-auto-animate>
            <h2>Children & Composition</h2>
          </section>
          <section data-auto-animate>
            <h2>JSX</h2>
            <pre><code data-trim>
							const Wrapper = ({ children }) => <div>Hello {children}</div>;

							export default function App() {
							  const name = "Rome2Rio";
							  return <Wrapper>{name}</Wrapper>;
							}
						</code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code><script type="text/template">
  <!-- wrapper.marko -->
	<h1>
		Hello <{input.renderBody}/>
	</h1>
	<!-- +page.marko -->
	$ const name = "Rome2Rio";
	<wrapper>${name}</wrapper>
						</script></code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code><script type="text/template">
  <!-- wrapper.marko -->
	export interface Input {
		renderBody?: Marko.Body;
	}

	<h1>
		Hello <{input.renderBody}/>
	</h1>
	<!-- +page.marko -->
	$ const name = "Rome2Rio";
	<wrapper>${name}</wrapper>
						</script></code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code><script type="text/template">
  <!-- wrapper.marko -->
	export interface Input {
		name: string;
	}

	<h1>
		Hello ${input.name}
	</h1>
	<!-- +page.marko -->
	$ const name = "Rome2Rio";
	<wrapper name=${name}/>
						</script></code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code><script type="text/template">
  <!-- common-layout.marko -->
	export interface Input {
		head?: Marko.AttrTag<{ renderBody: Marko.Body }>;
		body: Marko.AttrTag<{ renderBody: Marko.Body; class?: string }>;
	}
	<!doctype html>
	<html>
		<head>
			<${input.head} />
		</head>
		<body class=(input.body.class)>
			<common-debug-menu />
			<${input.body} />
		</body>
	</html>
	<!-- +page.marko -->
	<common-layout>
		<@head>
			<!-- insert your head -->
		</@head>
		<@body class="bg-[#f5f5f6]">
			<!-- insert your body -->
		</@body>
	</common-layout>
						</script></code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code>
  <ul>
    <p>Any JavaScript expression is a valid attribute value,
      provided it meets the following criteria:</p>
    <li>It does not contain any spaces</li>
    <li>It does not contain any right angle brackets (>)</li>
  </ul>
						</code></pre>
          </section>
        </section>

        <!-- Slide 9 - https://markojs.com/docs/core-tags/#await -->
        <section data-auto-animate>
          <section data-auto-animate>
            <h2>API calls</h2>
          </section>
          <section data-auto-animate>
            <h2>JSX</h2>
            <pre><code data-trim><script type="text/template">
							const hotelsInfoResult = useQuery<HotelInfoResponse>(
								[
									'hotelInfo',
									...
									roomDetails,
								],
								async () => {
									return hitHotelInfoEndpoint(
										config,
										requestId,
										...
										filteredRoomDetails
									)
								},
								{
									enabled,
									cacheTime: FIFTEEN_MINUTES_IN_MILLISECONDS,
									staleTime: FIFTEEN_MINUTES_IN_MILLISECONDS,
								}
							)
              </script></code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code data-trim data-auto-animate><script type="text/template">
							<!-- loafPlace.ts -->
							static async function loadPlace(props: SomeProps): Promise<PagePlace> {
								const response = await fetch(...);

								return response;
							}
							<!-- +page.marko -->
							$ const placesRequest = loadPlaces($global);
							<!-- ... -->
							<await(placesRequest)>
								<@then|[origin, destination]: PagePlace|>
									<setup-popunder
										originCanonical=(origin.canonicalTranslations.en)
										destinationCanonical=(destination.canonicalTranslations.en)
									/>
								</@then>
							</await>
						</script>

							</code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code data-trim data-auto-animate><script type="text/template">
	<await(placesRequest)>
    <@then|[origin, destination]: PagePlace|>
      ...
    </@then>
		<@catch|err|>
    	<!-- Render some error message -->
    	<!--  Log the error to Sentry -->
  	</@catch>
  </await>
						</script></code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code data-trim data-auto-animate><script type="text/template">
	<await(placesRequest) client-reorder>
    <@then|[origin, destination]: PagePlace|>
      ...
    </@then>
		<@placeholder>
    	<!-- Displays while promise is pending -->
    	<label>Loading…
      	<progress></progress>
    	</label>
  	</@placeholder>
  </await>
						</script></code></pre>
          </section>
        </section>

        <!-- Slide 8 -->
        <section data-auto-animate>
          <section data-auto-animate>
            <h2>Events</h2>
            <p>on-* attributes</p>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code data-trim>
							<script type="text/template">
<input type="checkbox"
  on-change(event => console.info(`Checked? ${event.target.checked}`))
/>
              </script>
							</code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code data-trim>
							<script type="text/template">
static function handleClick(event) {
  event.preventDefault();
  console.log("Clicked!");
}

<button on-click(handleClick)>
  Log click
</button>
              </script>
							</code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code data-trim>
							<script type="text/template">
<button on-click(() => alert("Clicked! 🎉"))>
  Celebrate click
</button>
              </script>
							</code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code data-trim>
							<script type="text/template">
static function removeFriend(friendId, event) {
  event.preventDefault();
  window.myAPI.unfriend(friendId);
}

<for|friend| of=input.friends>
  <button on-click(removeFriend, friend.id)>
    Unfriend ${friend.name}
  </button>
</for>
              </script>
							</code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code data-trim data-line-numbers="1-14|5|13">
							<script type="text/template">
<!-- email-input.marko -->
class {
  handleChange(event) {
    if (event.target.validity.valid) {
      this.emit("email-change", { email: event.target.value });
    }
  }
}

<input type="email" name=input.name on-change("handleChange")/>
<!-- +page.marko -->
<form>
  <email-input name="email" on-email-change("...")/>
</form>
              </script>
							</code></pre>
          </section>
        </section>

        <!-- Slide 7 -->
        <section data-auto-animate>
          <section data-auto-animate>
            <h2>Stateful components</h2>
          </section>
          <section data-auto-animate>
            <h2>JSX</h2>
            <pre><code data-trim>
							export default function App() {
                const [count, setCount] = useState(0);
                return (
                  <div>
                    The current count is {count}
                    <button onClick={() => setCount(count + 1)}>++</button>
                  </div>
                );
							}
						</code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code data-trim>
							<script type="text/template">
class {
  onCreate() {
    this.state = { count:0 };
  }
  increment() {
    this.state.count++;
  }
}

<div>
  The current count is ${state.count}
  <button on-click('increment')>++</button>
</div>
              </script>
							</code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code data-trim>
							<script type="text/template">
<let/count=0/>
<p>You clicked ${count} times</p>
<button onClick() { count++; }>
  Click me
</button>
              </script>
							</code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code data-trim>
							<script type="text/template">
<let/count=0/>
<let/doubleCount=count * 2/>
<p>You clicked ${count} times</p>
<p>Double count: ${doubleCount}</p>
<button onClick() { count++; }>
  Click me
</button>
              </script>
							</code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2><span class="absolute top-1/2 left-1/2 z-10">❌</span>
            <pre><code data-trim>
							<script type="text/template">
<let/count=0/>
<let/doubleCount=count * 2/>
<p>You clicked ${count} times</p>
<p>Double count: ${doubleCount}</p>
<button onClick() { count++; }>
  Click me
</button>
              </script>
							</code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <span class="absolute top-1/2 left-1/2 z-10">✅</span>
            <pre><code data-trim>
							<script type="text/template">
<let/count=0/>
<const/doubleCount=count * 2/>
<p>You clicked ${count} times</p>
<p>Double count: ${doubleCount}</p>
<button onClick() { count++; }>
  Click me
</button>
              </script>
							</code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <span class="absolute top-1/2 left-1/2 z-10">✅</span>
            <pre><code data-trim>
							<script type="text/template">
<let/count=0/>
<let/doubleCount=0/>
<effect() { doubleCount = count * 2; }/>
<p>You clicked ${count} times</p>
<p>Double count: ${doubleCount}</p>
<button onClick() { count++; }>
  +1
</button>
<button onClick() { doubleCount += 2; }>
  +2 (this only hits doubleCount)
</button>
              </script>
							</code></pre>
          </section>
        </section>

        <!-- Slide 7 -->
        <section data-auto-animate>
          <section data-auto-animate>
            <h2>Custom Hooks</h2>
          </section>
          <section data-auto-animate>
            <h2>JSX</h2>
            <pre><code data-trim><script type="text/template">
export function useIsInViewport(
  ref: MutableRefObject<HTMLElement | null>,
  threshold?: number, //between 0 and 1
  baseOffset?: number
) {
  const [isIntersecting, setIsIntersecting] = useState(false)

  useEffect(() => {
    // If we don't have access to IntersectionObserver in older browsers or tests.
    if (
      !('IntersectionObserver' in window) ||
      !('IntersectionObserverEntry' in window) ||
      !('intersectionRatio' in window.IntersectionObserverEntry.prototype)
    ) {
      return
    }

    const rootMarginString = `0px 0px -${baseOffset ? baseOffset : 0}px 0px`

    const observer = new IntersectionObserver(
      ([entry]) => setIsIntersecting(entry.isIntersecting),
      {
        threshold: threshold ?? 0,
        rootMargin: rootMarginString,
      }
    )
    if (ref && ref.current) {
      observer.observe(ref.current)
    }

    return () => {
      observer.disconnect()
    }
  }, [ref, threshold, baseOffset])

  return isIntersecting
}
            </script></code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code data-trim data-line-numbers="1-28|3-4|7|9-21|11|22|24-26">
							<script type="text/template">
<!-- is-in-viewport.marko -->
export interface Input {
  readonly target: () => Element;
  readonly threshold?: number;
}

<let<boolean | undefined>/isIntersecting=undefined />

<effect() {
  function handleIntersection([entry]: IntersectionObserverEntry[]) {
    isIntersecting = entry.isIntersecting;
  }
  const observer = new IntersectionObserver(handleIntersection, {
    threshold: input.threshold ?? 0,
  });
  observer.observe(input.target());

  return () => {
    observer.disconnect();
  };
} />
<return=isIntersecting />

<!-- +page.marko -->
<div/bottomPixel class="absolute bottom-0 h-full"></div>
<is-in-viewport/headerVisible target=bottomPixel />

              </script>
							</code></pre>
          </section>
        </section>

        <!-- Slide 7 -->
        <section data-auto-animate>
          <section data-auto-animate>
            <h2>HOC / Children to Parent</h2>
          </section>
          <section data-auto-animate>
            <h2>JSX</h2>
            <pre><code data-trim>
const App = ({ mouse:{ x, y } }) => (
  <h1>The mouse position is ({x}, {y})</h1>
);
const AppWithMouse = withMouse(App)
						</code></pre>
          </section>
          <section data-auto-animate>
            <h2>JSX</h2>
            <pre><code data-trim><script type="text/template">
const App = () => (
  <Mouse render={({ x, y }) => (
    <h1>The mouse position is ({x}, {y})</h1>
  )/>
);
</script></code></pre>
          </section>
          <section data-auto-animate>
            <h2>JSX</h2>
            <pre><code data-trim><script type="text/template">
const App = () => (
  <Mouse>
    {
      ({ x, y }) => (
        <h1>The mouse position is ({x}, {y})</h1>
      )
    }
  </Mouse>
);
</script></code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code data-trim>
							<script type="text/template">
<!-- mouse.marko -->
<!-- ...All the logic -->
<${input.renderBody} x=x y=y/>
<!-- +page.marko -->
<mouse|{ x, y }|>
  <h1>The mouse position is (${x}, ${y})</h1>
</mouse>
              </script>
							</code></pre>
          </section>
        </section>

        <!-- Slide 11 -->
        <section data-auto-animate>
          <section data-auto-animate>
            <h2>Dynamic tagname</h2>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code data-trim>
							<script type="text/template">
<${href ? 'a' : 'button'} href=href>
  Click me!
</>
              </script>
							</code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code data-trim>
							<script type="text/template">
$ const MyTag = href ? 'a' : 'button';
<${MyTag}/>
<MyTag/>
              </script>
							</code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code data-trim>
							<script type="text/template">
import CustomComponentImported from "<custom-component>";
$ const MyTag = href ? 'a' : CustomComponentImported;
<MyTag/>
              </script>
							</code></pre>
          </section>
        </section>

        <!-- Slide 10 -->
        <section data-auto-animate>
          <section data-auto-animate>
            <h2>Lifecycle</h2>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code data-trim>
class {
  onCreate(input, out) { }
  onInput(input, out) { }
  onRender(out) { }
  onMount() { }
  onUpdate() { }
  onDestroy() { }
}
						</code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code data-trim>
							<script type="text/template">
<lifecycle
  onCreate(input, out) { ... }
  onInput(input, out) { ... }
  onRender(out) { ... }
  onMount() { ... }
  onUpdate() { ... }
  onDestroy() { ... }
/>
              </script>
							</code></pre>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <pre><code data-trim data-line-numbers="1-37|19|11-14|19-37">
							<script type="text/template">
<!-- sojern-pixel.marko -->
<!-- imports -->
export interface Input {
  origin: SojernPlace;
  destination: SojernPlace;
  pageType: SojernPageType;
}
static const SOJERN_CONSENT_PURPOSES_REQUIRED = [1, 3, 5];
static const SOJERN_LEGITIMATE_INTEREST_PURPOSES_REQUIRED: number[] = [];

<consent-status/status
  consentPurposesRequired=SOJERN_CONSENT_PURPOSES_REQUIRED
  legitimateInterestPurposesRequired=SOJERN_LEGITIMATE_INTEREST_PURPOSES_REQUIRED
/>

<let/loadCount=1 />
<let/triggerCount=1 />

<if=(status === "given")>
  <lifecycle
    onMount() {
      sendEvent(...);
      triggerCount += 1;
    }
  />

  <const/url=buildSojernUrl({
    origin: input.origin,
    ...
    currencyCode: $global.featureConfig.CurrencyCode,
  }) />

  <iframe
    style="display:none"
    ...
  ></iframe>
</if>
              </script>
							</code></pre>
          </section>
        </section>

        <!-- Slide 10 -->
        <section data-auto-animate>
          <section data-auto-animate>
            <h2>Routing</h2>
          </section>
          <section data-auto-animate>
            <h2>Marko</h2>
            <div class="grid grid-cols-3 gap-4">
              <img src="dist/images/routes-path.png" />
              <img src="dist/images/home-path.png" />
              <img src="dist/images/a2b-path.png" />
            </div>
        </section>
      </section>

        <!-- Slide 12 -->
        <section data-auto-animate>
          <section data-auto-animate>
            <div
            class="flex justify-center items-center"
            >
              <iframe src="https://giphy.com/embed/xT5LMB2WiOdjpB7K4o" width="100%" height="500px" style="" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
            </div>
            <a href="https://github.com/AndresBarreto-code/MarkoJS-for-React-Developers">Slides: https://github.com/AndresBarreto-code/MarkoJS-for-React-Developers</a>
          </section>
        </section>
      </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        hash: true,

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes],
      });
    </script>
  </body>
</html>
